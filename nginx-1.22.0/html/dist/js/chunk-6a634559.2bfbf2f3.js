(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a634559"],{c439:function(e,t,s){},e943:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{position:"fixed"}},["input"==e.type?s("div",{class:"search-menu search-menu-theme-"+e.theme},[s("Select",{ref:"select",attrs:{prefix:"ios-search",transfer:"",clearable:"",filterable:"",placeholder:"请选择添加的模块"},on:{"on-change":e.changeMenu},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},e._l(e.list,(function(t,i){return s("Option",{key:i,attrs:{value:t}},[e._v(e._s(t.title))])})),1),s("Icon",{directives:[{name:"show",rawName:"v-show",value:e.key,expression:"key"}],staticClass:"close-icon",staticStyle:{"margin-left":"15px"},attrs:{type:"ios-close-circle"},on:{click:e.clear}})],1):s("div",{staticClass:"search-dropdown"},[s("Dropdown",{attrs:{trigger:"click",placement:"bottom-start"}},[s("div",{staticStyle:{display:"inline-block"}},[s("div",{staticClass:"header-right-icon header-action"},[s("Icon",{staticStyle:{"margin-left":"15px"},attrs:{type:"ios-search",size:20}})],1)]),s("div",{staticClass:"search-select",attrs:{slot:"list"},slot:"list"},[s("Select",{ref:"select",attrs:{prefix:"ios-search",transfer:"",clearable:"",filterable:"",placeholder:"艾是OA菜单查询"},on:{"on-change":e.changeMenu},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},e._l(e.list,(function(t,i){return s("Option",{key:i,attrs:{value:t}},[e._v(e._s(t.title))])})),1)],1)])],1)])},n=[],a=s("bc3a"),c=s.n(a),l=s("365c"),r={name:"search",props:{theme:{type:String,default:"darkblue"},type:{type:String,default:"input"}},data(){return{key:"",list:[]}},computed:{},methods:{init(){let e=this.getStore("menuData");if(e)e=JSON.parse(e),this.list=this.getList(e);else{let t=this.getStore("accessToken");c.a.get(l["c"],{headers:{accessToken:t}}).then(t=>{e=t.result,this.list=this.getList(e)})}},getList(e){let t=[];return e.forEach((function(e){e.children&&e.children.length>0&&e.children.forEach((function(e){e.children&&e.children.length>0&&e.children.forEach((function(e){t.push({title:e.title,name:e.name})}))}))})),t},changeMenu(e){e&&this.$emit("changeOk",e)},clear(){this.$refs.select.clearSingleSelect()}},mounted(){this.init()}},o=r,h=(s("fb80"),s("2877")),u=Object(h["a"])(o,i,n,!1,null,null,null);t["default"]=u.exports},fb80:function(e,t,s){"use strict";s("c439")}}]);